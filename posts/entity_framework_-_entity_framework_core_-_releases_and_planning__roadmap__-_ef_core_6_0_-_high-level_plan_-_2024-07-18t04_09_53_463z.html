<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Entity Framework - Entity Framework Core - Releases and planning (roadmap) - EF Core 6.0 - High-level plan | Sudo's Notes</title>
    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html;" />
    <meta name="viewport" content="initial-scale=1.0 maximum-scale=1.0" />
    <meta property='og:image' content='https://thunguyen1012.github.io/img/default.jpg'><meta name='description' content='We are planning for the release of Entity Framework Core (EF Core) 6.0.'>
    <meta name="theme-color" content="#ffffff" />
    <meta
      name="google-site-verification"
      content="google-site-verification=kcDFRw1y16XjxYUB-datjB6MQB-CsjgE9h6lCalynC4"
    />

    <!-- Google Analytics -->
    <script>
      window.ga =
        window.ga ||
        function () {
          (ga.q = ga.q || []).push(arguments);
        };
      ga.l = +new Date();
      ga("create", "UA-120719369-1", "auto");
      ga("send", "pageview");
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <!-- End Google Analytics -->
    <link href="../css/theme-dark.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="../css/highlight/railscasts.css" />
    <script src="../js/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const content = document.getElementsByClassName("main")[0];
        const currentURL = window.location.href;

        function updateReadPercentage() {
          const contentHeight = content.offsetHeight;
          const viewportHeight = window.innerHeight;
          const scrollY = window.scrollY;
          let readPercentage =
            ((scrollY + viewportHeight) / contentHeight) * 100;
          readPercentage = Math.min(100, Math.max(0, readPercentage));

          const storedData = localStorage.getItem("readPercentage");
          const readingItems = JSON.parse(storedData) || [];
          const item = readingItems.find((item) => item.url === currentURL);
          if (item) {
            item.percent = Math.floor(readPercentage);
          } else {
            readingItems.push({
              url: currentURL,
              percent: Math.floor(readPercentage),
            });
          }
          localStorage.setItem("readPercentage", JSON.stringify(readingItems));
        }

        function loadReadPercentage() {
          const storedData = localStorage.getItem("readPercentage");
          const readingItems = JSON.parse(storedData) || [];
          const item = readingItems.find((item) => item.url === currentURL);
          if (item) {
            const contentHeight = content.offsetHeight;
            const viewportHeight = window.innerHeight;
            const scrollPosition =
              (item.percent / 100) * contentHeight - viewportHeight;

            window.scrollTo(0, scrollPosition);
          }
        }

        window.addEventListener("scroll", updateReadPercentage);
        window.addEventListener("resize", updateReadPercentage);
        loadReadPercentage();
        updateReadPercentage();
      });
    </script>
  </head>
  <body>
    <div class="header">
      <a href="/"><span class="avatar"></span></a>
    </div>
    <div class="container">
      <div class="main">
        <h1>Entity Framework - Entity Framework Core - Releases and planning (roadmap) - EF Core 6.0 - High-level plan</h1>
        <ul>
<li>
<p>Article</p>
<ul>
<li>
<p>01/30/2023</p>
</li>
<li>
<p>3 contributors</p>
</li>
</ul>
</li>
</ul>
<h2><a href="#in-this-article" aria-hidden="true" class="anchor" id="in-this-article"></a>In this article</h2>
<blockquote>
<p>Important
EF Core 6.0 has now been released. This page remains as a historical record of the plan.</p>
</blockquote>
<p>We are planning for the release of Entity Framework Core (EF Core) 6.0.</p>
<p>This release plan is designed to help you plan your investment in this release.</p>
<blockquote>
<p>Important
This plan is not a commitment. It is a starting point that will evolve as we learn more. Some things not currently planned for 6.0 may get pulled in. Some things currently planned for 6.0 may get punted out.</p>
</blockquote>
<h2><a href="#general-information" aria-hidden="true" class="anchor" id="general-information"></a>General information</h2>
<h3><a href="#version-number-and-release-date" aria-hidden="true" class="anchor" id="version-number-and-release-date"></a>Version number and release date</h3>
<p>EF Core 6.0 is the next release after EF Core 5.0 and is currently scheduled for release in November 2021 at the same time as .NET 6.</p>
<h3><a href="#supported-platforms" aria-hidden="true" class="anchor" id="supported-platforms"></a>Supported platforms</h3>
<p>EF Core 6.0 requires .NET 6. EF Core 6.0 does not target any .NET Standard version; for more information see the future of .NET Standard.</p>
<p>EF Core 6.0 will not run on .NET Framework.</p>
<p>EF Core 6.0 will align with .NET 6 as a long-term support (LTS) release.</p>
<h3><a href="#breaking-changes" aria-hidden="true" class="anchor" id="breaking-changes"></a>Breaking changes</h3>
<p>The latest release of EF Core is now available.</p>
<h2><a href="#themes" aria-hidden="true" class="anchor" id="themes"></a>Themes</h2>
<p>The following areas will form the basis for the large investments in EF Core 6.0.</p>
<h2><a href="#highly-requested-features" aria-hidden="true" class="anchor" id="highly-requested-features"></a>Highly requested features</h2>
<p>As always, a major input into the planning process comes from the voting (üëç) for features on GitHub. For EF Core 6.0 we plan to work on the following highly requested features:</p>
<h3><a href="#sql-server-temporal-tables" aria-hidden="true" class="anchor" id="sql-server-temporal-tables"></a>SQL Server temporal tables</h3>
<p>Tracked by #4693</p>
<p>Status: Complete</p>
<p>T-shirt size: Large</p>
<p>The latest release of the Enterprise Framework (EF) will now support temporal tables.</p>
<p>This work is initially scoped as described on the issue. We may pull in additional support based on feedback during the release.</p>
<h3><a href="#json-columns" aria-hidden="true" class="anchor" id="json-columns"></a>JSON columns</h3>
<p>Tracked by #4021</p>
<p>Status: Cut</p>
<p>T-shirt size: Medium</p>
<p>We are working on a new support feature for Npg and Pomelo.</p>
<h3><a href="#columnattributeorder" aria-hidden="true" class="anchor" id="columnattributeorder"></a>ColumnAttribute.Order</h3>
<p>Tracked by #10059</p>
<p>Status: In-progress</p>
<p>T-shirt size: Small</p>
<p>A new column ordering feature has been added to the Entity Framework.</p>
<h2><a href="#performance" aria-hidden="true" class="anchor" id="performance"></a>Performance</h2>
<p>We have been working on improving the performance of EF Core for some time.</p>
<p>This theme will involve a lot of iterative investigation, which will inform where we focus resources. We plan to begin with:</p>
<h3><a href="#performance-infrastructure-and-new-tests" aria-hidden="true" class="anchor" id="performance-infrastructure-and-new-tests"></a>Performance infrastructure and new tests</h3>
<p>Status: Scoped/Complete</p>
<p>T-shirt size: Medium</p>
<p>EF Core 6.0 will introduce a new set of performance tests.</p>
<p>Update: We have improved test infrastructure and added new tests to support the work done for EF Core 6. Additional improvements in this area have been scoped out of the EF Core 6.0 release.</p>
<h3><a href="#compiled-models" aria-hidden="true" class="anchor" id="compiled-models"></a>Compiled models</h3>
<p>Tracked by #1906</p>
<p>Status: Complete</p>
<p>T-shirt size: X-Large</p>
<p>Compiled models will allow the generation of a compiled form of the EF model. This will provide both better startup performance, as well as generally better performance when accessing the model.</p>
<h3><a href="#techempower-fortunes" aria-hidden="true" class="anchor" id="techempower-fortunes"></a>TechEmpower Fortunes</h3>
<p>Tracked by #23611</p>
<p>Status: Complete</p>
<p>T-shirt size: X-Large</p>
<p>We have been running the Fortunes benchmark on .NET against a database for several years.</p>
<ul>
<li>
<p>An implementation that uses ADO.NET directly. This is the fastest implementation of the three listed here.</p>
</li>
<li>
<p>An implementation that uses Dapper. This is slower than using ADO.NET directly, but still fast.</p>
</li>
<li>
<p>An implementation that uses EF Core. This is currently the slowest implementation of the three.</p>
</li>
</ul>
<p>This week we are testing the latest release of EF Core.</p>
<h3><a href="#linkeraot" aria-hidden="true" class="anchor" id="linkeraot"></a>Linker/AOT</h3>
<p>Tracked by #10963</p>
<p>Status: Scoped/Complete</p>
<p>T-shirt size: Medium</p>
<p>We've been working on improving the performance of EF Core for some time.</p>
<h2><a href="#migrations-and-deployment" aria-hidden="true" class="anchor" id="migrations-and-deployment"></a>Migrations and deployment</h2>
<p>Following on from the investigations done for EF Core 5.0, we plan to introduce improved support for managing migrations and deploying databases. This includes two major areas:</p>
<h3><a href="#migrations-bundles" aria-hidden="true" class="anchor" id="migrations-bundles"></a>Migrations bundles</h3>
<p>Tracked by #19693</p>
<p>Status: Complete</p>
<p>T-shirt size: Medium</p>
<p>A migrations bundle has been released for the dotnet ef database.</p>
<h3><a href="#managing-migrations" aria-hidden="true" class="anchor" id="managing-migrations"></a>Managing migrations</h3>
<p>Tracked by #22945</p>
<p>Status: Cut</p>
<p>T-shirt size: Large</p>
<p>In the last release of EF Core, we made some improvements to the way migrations were handled.</p>
<p>Update: most of the work in this area has been cut for 6.0 due to resource constraints.</p>
<h2><a href="#improve-existing-features-and-fix-bugs" aria-hidden="true" class="anchor" id="improve-existing-features-and-fix-bugs"></a>Improve existing features and fix bugs</h2>
<p>Any issue or bug assigned to the 6.0.0 milestone is currently planned for this release. This includes many small enhancements and bug fixes.</p>
<h3><a href="#ef6-query-parity" aria-hidden="true" class="anchor" id="ef6-query-parity"></a>EF6 query parity</h3>
<p>Tracked by issues labeled with 'ef6-parity' and in the 6.0 milestone</p>
<p>Status: Scoped/Complete</p>
<p>T-shirt size: Large</p>
<p>EF Core 5.0 and EF Core 6.0 do not support all query patterns supported by EF6.</p>
<p>Update: Raw SQL queries for primitive and unmapped types has been cut from 6.0 due to resourcing constraints and priority adjustments.</p>
<h3><a href="#value-objects" aria-hidden="true" class="anchor" id="value-objects"></a>Value objects</h3>
<p>Tracked by #9906</p>
<p>Status: Cut</p>
<p>T-shirt size: Medium</p>
<p>EF Core 6.0 will introduce a better experience focused on the needs of value objects in domain-driven design.</p>
<p>This work is initially scoped to allow value converters which map to multiple columns. We may pull in additional support based on feedback during the release.</p>
<h3><a href="#azure-cosmos-db-database-provider" aria-hidden="true" class="anchor" id="azure-cosmos-db-database-provider"></a>Azure Cosmos DB database provider</h3>
<p>Tracked by issues labeled with 'area-cosmos' and in the 6.0 milestone</p>
<p>Status: Expanded/Complete</p>
<p>T-shirt size: Large</p>
<p>Azure Cosmos DB is part of EF Core 6.0.</p>
<p>Update: We have been doing extensive customer development around the Azure Cosmos DB provider. This has resulted in the following enhancements being pulled into EF Core 6.0:</p>
<ul>
<li>
<p>Azure Cosmos DB provider should default to implicit ownership</p>
</li>
<li>
<p>Set partition key on join entity type by convention</p>
</li>
<li>
<p>FromSql support</p>
</li>
<li>
<p>Configure TTL per entity/entity type/collection</p>
</li>
<li>
<p>API to configure container facets (throughput, size, partition key, etc.)</p>
</li>
<li>
<p>Diagnostic events including statistics (query cost, activity id)</p>
</li>
<li>
<p>Distinct operator in queries</p>
</li>
<li>
<p>Add translators for member/methods which map to built-in functions</p>
</li>
<li>
<p>Add basic support for collections and dictionaries of primitive types</p>
</li>
</ul>
<p>Update: The following issues were cut from the 6.0 release:</p>
<ul>
<li>
<p>Find/FindAsync performs SQL API query when entity has embedded entities</p>
</li>
<li>
<p>Optimize more queries that could use ReadItem</p>
</li>
<li>
<p>Detect partition key filters in more queries</p>
</li>
<li>
<p>Translate subquery in filter condition</p>
</li>
<li>
<p>Allow to specify consistency level for CUD operations</p>
</li>
<li>
<p>Support aggregate operators</p>
</li>
</ul>
<h3><a href="#expose-model-building-conventions-to-applications" aria-hidden="true" class="anchor" id="expose-model-building-conventions-to-applications"></a>Expose model building conventions to applications</h3>
<p>Tracked by #214</p>
<p>Status: Cut</p>
<p>T-shirt size: Medium</p>
<p>EF Core 6.0 will allow applications to hook into and change the conventions used by the database provider.</p>
<h3><a href="#zero-bug-balance-zbb)" aria-hidden="true" class="anchor" id="zero-bug-balance-zbb)"></a>Zero bug balance (ZBB)</h3>
<p>Tracked by issues labeled with <code>type-bug</code> in the 6.0 milestone</p>
<p>Status: In-progress/Scoped</p>
<p>T-shirt size: Large</p>
<p>We plan to fix all outstanding bugs during the EF Core 6.0 time frame. Some things to keep in mind:</p>
<ul>
<li>
<p>This specifically applies to issues labeled <code>type-bug</code>.</p>
</li>
<li>
<p>There will be exceptions, such as when the bug requires a design change or new feature to fix properly. These issues will be marked with the <code>blocked</code> label.</p>
</li>
<li>
<p>We will punt bugs based on risk when needed as is normal as we get close to a GA/RTM release.</p>
</li>
</ul>
<h3><a href="#miscellaneous-features" aria-hidden="true" class="anchor" id="miscellaneous-features"></a>Miscellaneous features</h3>
<p>Tracked by issues labeled with <code>type-enhancement</code> in the 6.0 milestone</p>
<p>Status: Complete</p>
<p>T-shirt size: Large</p>
<p>Miscellaneous features planned for EF 6.0 include, but are not limited to:</p>
<ul>
<li>
<p>Split query for non-navigation collections</p>
</li>
<li>
<p>Detect simple join tables in reverse engineering and create many-to-many relationships</p>
</li>
<li>
<p>Mechanism/API to specify a default conversion for any property of a given type in the model</p>
</li>
</ul>
<p>Update: The following issues were cut from the 6.0 release:</p>
<ul>
<li>
<p>Complete full/free-text search on SQLite and SQL Server</p>
</li>
<li>
<p>SQL Server spatial indexes</p>
</li>
<li>
<p>Use the new batching API from ADO.NET</p>
</li>
</ul>
<h2><a href="#net-integration" aria-hidden="true" class="anchor" id="net-integration"></a>.NET integration</h2>
<p>The EF Core team also works on several related but independent technologies. In particular, we plan to work on:</p>
<h3><a href="#enhancements-to-systemdata" aria-hidden="true" class="anchor" id="enhancements-to-systemdata"></a>Enhancements to System.Data</h3>
<p>Tracked by issues in the dotnet\runtime repo labeled with <code>area-System.Data</code> in the 6.0 milestone</p>
<p>Status: Scoped/Complete</p>
<p>T-shirt size: Large</p>
<p>This work includes:</p>
<ul>
<li>
<p>Implementation of the new batching API.</p>
</li>
<li>
<p>Continued work with other .NET teams and the community to understand and evolve ADO.NET.</p>
</li>
</ul>
<p>Update: The following issues were cut from the 6.0 release:</p>
<ul>
<li>Standardize on DiagnosticSource for tracing in System.Data.* components.</li>
</ul>
<h3><a href="#enhancements-to-microsoftdata.sqlite" aria-hidden="true" class="anchor" id="enhancements-to-microsoftdata.sqlite"></a>Enhancements to Microsoft.Data.Sqlite</h3>
<p>Tracked by issues labeled with <code>type-enhancement</code> and <code>area-adonet-sqlite</code> in the 6.0 milestone</p>
<p>Status: Scoped/Complete</p>
<p>T-shirt size: Medium</p>
<p>Several small improvements are planned for the Microsoft.Data.Sqlite, including connection pooling and prepared statements for performance.</p>
<p>Update: Prepared statements has been cut from the 6.0 release.</p>
<h3><a href="#nullable-reference-types" aria-hidden="true" class="anchor" id="nullable-reference-types"></a>Nullable reference types</h3>
<p>Tracked by #14150</p>
<p>Status: Complete</p>
<p>T-shirt size: Large</p>
<p>We will annotate the EF Core code to use nullable reference types.</p>
<h2><a href="#experiments-and-investigations" aria-hidden="true" class="anchor" id="experiments-and-investigations"></a>Experiments and investigations</h2>
<p>EF Core 6.0 will be released in the second half of 2017.</p>
<h3><a href="#sqlservercore" aria-hidden="true" class="anchor" id="sqlservercore"></a>SqlServer.Core</h3>
<p>Tracked in the .NET Data Lab repo</p>
<p>Status: In-progress</p>
<p>T-shirt size: Ongoing</p>
<p>In this talk, we are going to investigate what potential there is for a highly performing SQL Server driver for .NET.</p>
<blockquote>
<p>Important
Investment in Microsoft.Data.SqlClient is not changing. It will continue to be the recommended way to connect to SQL Server and SQL Azure, both with and without EF Core. It will continue to support new SQL Server features as they are introduced.</p>
</blockquote>
<h3><a href="#graphql" aria-hidden="true" class="anchor" id="graphql"></a>GraphQL</h3>
<p>Status: In-progress</p>
<p>T-shirt size: Ongoing</p>
<p>.NET is one of Microsoft's core technologies.</p>
<h3><a href="#dataverse-formerly-common-data-services)" aria-hidden="true" class="anchor" id="dataverse-formerly-common-data-services)"></a>DataVerse (formerly Common Data Services)</h3>
<p>Status: In-progress</p>
<p>T-shirt size: Ongoing</p>
<p>The purpose of this study is to define, describe, and analyse the .NET Data Store (SDK).</p>
<h2><a href="#below-the-cut-line" aria-hidden="true" class="anchor" id="below-the-cut-line"></a>Below-the-cut-line</h2>
<p>Tracked by issues labeled with <code>consider-for-current-release</code></p>
<p>This is a list of improvements and bug fixes that are being considered for release of EF Core 6.0.</p>
<p>We are always looking for ways to improve the game.</p>
<h2><a href="#suggestions" aria-hidden="true" class="anchor" id="suggestions"></a>Suggestions</h2>
<p>If you have any questions about the planning process, please feel free to contact us.</p>
<p>Ref: <a href="https://learn.microsoft.com/en-us/ef/core/what-is-new/ef-core-6.0/plan">Plan for Entity Framework Core 6.0</a></p>
 <div class='other-tags'><b>Tags:</b> <a class='topic-tag' href='/tags/EFCore.html'>EFCore</a><a class='topic-tag' href='/tags/Summary.html'>Summary</a></div>
      </div>
    </div>
  </body>
</html>
